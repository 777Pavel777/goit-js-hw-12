import{a as q,S as I,i as $}from"./assets/vendor-527658dd.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();async function v(s,a,r){const{key:n,baseUrl:e,typeImg:t,orientationImg:l,resultSearch:m}={key:"42662363-4df458c081fe5322c3af06117",baseUrl:"https://pixabay.com/api/",typeImg:"photo",orientationImg:"horizontal",resultSearch:!0},h=`${e}?key=${n}&q=${a}&image_type=${t}&orientation=${l}&safesearch=${m}`,{data:f}=await q.get(h,{params:{key:n,page:s,per_page:r,q:a}});return f}function S(s,a){const r=s.map(({webformatURL:n,largeImageURL:e,tags:t,likes:l,views:m,comments:h,downloads:f})=>`<li class="image-search">
        <a href="${e}">
        <img class="gallery-img" src="${n}" alt="${t}"/>
        </a>
        <ul class="img-info">
          <li class="img-items">
            <p class="img-value"><span class="img-subtitle">Likes</span>${l}</p>
            <p class="img-value"><span class="img-subtitle">Views</span>${m}</p>
            <p class="img-value"><span class="img-subtitle">Comments</span>${h}</p>
            <p class="img-value"><span class="img-subtitle">Downloads</span>${f}</p>
          </li>
        </ul>
      </li>`).join("");a.insertAdjacentHTML("beforeend",r)}const E="/goit-js-hw-12/assets/error-1e41ecdc.svg",g=document.querySelector(".gallery-list"),L=document.querySelector("input"),b=document.querySelector("form"),p=document.querySelector(".form-container div"),o=document.querySelector(".load-more"),d=document.querySelector(".loading"),u=15;let c=1,y;const w=new I(".gallery-list a",{captionsData:"alt",captionDelay:250});function i(s,a,r){$.show({iconUrl:r,messageColor:"#ffffff",message:s,backgroundColor:a,position:"topRight",messageSize:16,layout:2,maxWidth:380,theme:"dark"})}b.addEventListener("submit",P);async function P(s){if(s.preventDefault(),c=1,y=L.value,g.innerHTML="",L.value.trim()===""){o.classList.add("hidden"),i("Sorry, input is emty. Please try again!","#FFA000");return}try{const r=await v(c,y,u);if(r.total===0){o.classList.add("hidden"),i("Sorry, there are no images matching your search query. Please try again!","#EF4040",E),p.classList.remove("loader");return}if(S(r.hits,g),p.classList.remove("loader"),o.classList.remove("hidden"),Math.floor(r.totalHits/u)===c){d.classList.remove("loader"),o.classList.add("hidden"),i("There are no more pictures for this request");return}if(r.totalHits<c*u)return o.classList.add("hidden"),i("We're sorry, but you've reached the end of search results.","#0071BD");w.refresh()}catch{i("Something went wrong.Please try later")}b.reset()}o.addEventListener("click",M);async function M(){c+=1,d.classList.add("loader");try{const s=await v(c,y,u);if(S(s.hits,g),Math.floor(s.totalHits/u)===c){d.classList.remove("loader"),o.classList.add("hidden"),i("There are no more pictures for this request");return}if(p.classList.remove("loader"),d.classList.remove("loader"),o.classList.remove("hidden"),s.hits.length>=s.totalHits)return o.classList.add("hidden"),i("We're sorry, but you've reached the end of search results.","#0071BD");window.scrollBy({top:580,behavior:"smooth"}),w.refresh()}catch{d.classList.remove("loader"),o.classList.add("hidden"),i("Something went wrong.Please try later")}}
//# sourceMappingURL=commonHelpers.js.map
