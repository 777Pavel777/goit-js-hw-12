import{a as I,S as $,i as q}from"./assets/vendor-527658dd.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();async function v(s,a,r){const{key:i,baseUrl:e,typeImg:t,orientationImg:n,resultSearch:d}={key:"42662363-4df458c081fe5322c3af06117",baseUrl:"https://pixabay.com/api/",typeImg:"photo",orientationImg:"horizontal",resultSearch:!0},u=`${e}?key=${i}&q=${a}&image_type=${t}&orientation=${n}&safesearch=${d}`,{data:m}=await I.get(u,{params:{key:i,page:s,per_page:r,q:a}});return m}function S(s,a){const r=s.map(({webformatURL:i,largeImageURL:e,tags:t,likes:n,views:d,comments:u,downloads:m})=>`<li class="image-search">
        <a href="${e}">
        <img class="gallery-img" src="${i}" alt="${t}"/>
        </a>
        <ul class="img-info">
          <li class="img-items">
            <p class="img-value"><span class="img-subtitle">Likes</span>${n}</p>
            <p class="img-value"><span class="img-subtitle">Views</span>${d}</p>
            <p class="img-value"><span class="img-subtitle">Comments</span>${u}</p>
            <p class="img-value"><span class="img-subtitle">Downloads</span>${m}</p>
          </li>
        </ul>
      </li>`).join("");a.insertAdjacentHTML("beforeend",r)}const E="/goit-js-hw-12/assets/error-1e41ecdc.svg",f=document.querySelector(".gallery-list"),L=document.querySelector("input"),b=document.querySelector("form"),h=document.querySelector(".form-container div"),o=document.querySelector(".load-more"),g=document.querySelector(".loading"),p=15;let c=1,y;const w=new $(".gallery-list a",{captionsData:"alt",captionDelay:250});function l(s,a,r){q.show({iconUrl:r,messageColor:"#ffffff",message:s,backgroundColor:a,position:"topRight",messageSize:16,layout:2,maxWidth:380,theme:"dark"})}b.addEventListener("submit",P);async function P(s){if(s.preventDefault(),c=1,y=L.value,f.innerHTML="",L.value.trim()===""){o.classList.add("hidden"),l("Sorry, input is emty. Please try again!","#FFA000");return}try{const r=await v(c,y,p);if(r.total===0){o.classList.add("hidden"),l("Sorry, there are no images matching your search query. Please try again!","#EF4040",E),h.classList.remove("loader");return}if(S(r.hits,f),h.classList.remove("loader"),o.classList.remove("hidden"),r.totalHits<c*p)return o.classList.add("hidden"),l("We're sorry, but you've reached the end of search results.","#0071BD");w.refresh()}catch{l("Something went wrong.Please try later")}b.reset()}o.addEventListener("click",k);async function k(){c+=1,g.classList.add("loader");try{const s=await v(c,y,p);if(S(s.hits,f),h.classList.remove("loader"),g.classList.remove("loader"),o.classList.remove("hidden"),s.hits.length>=s.totalHits)return o.classList.add("hidden"),l("We're sorry, but you've reached the end of search results.","#0071BD");window.scrollBy({top:580,behavior:"smooth"}),w.refresh()}catch{g.classList.remove("loader"),o.classList.add("hidden"),l("Something went wrong.Please try later")}}
//# sourceMappingURL=commonHelpers.js.map
